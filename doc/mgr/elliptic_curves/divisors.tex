\section{Dywizory}

Rozmieszczenie miejsc zerowych i biegunów
funkcji wymiernych nad krzywą eliptyczną
wykazuje wiele regularności.
Narzędziem, które pozwoli nam je badać, są dywizory.

Na potrzeby tej sekcji pracy przyjmujemy,
że krzywe eliptyczne są rozpatrywane nad ciałem algebraicznie domkniętym.

\subsection*{Definicja}

Aby móc zdefiniować dywizor,
przypomnijmy, czym jest abelowa grupa wolna.

\begin{definition}
Dany jest zbiór $S$.
\emph{Suma formalna nad zbiorem $S$} to wyrażenie w postaci
\begin{equation*}
\sum_{k=1}^n a_k\divi{s_k}
\end{equation*}
gdzie $a_k \in \Z$ oraz $s_k \in S$ dla $k = 1, 2, \ldots, n$.

\emph{Abelowa grupa wolna generowana przez zbiór $S$}
to zbiór złożony ze wszystich sum formalnych nad zbiorem $S$
wyposażony w działanie polegające na formalnym dodaniu dwóch sum
i pogrupowaniu składników ze względu na elementy zbioru $S$.
\end{definition}

\begin{remark}
Sumę formalną nad zbiorem $S$ będziemy często zapisywać w postaci
\begin{equation*}
\sum_{s \in S}a(s)\divi{s}
\end{equation*}
gdzie funkcja $a \colon S \to \Z$ przyjmuje wartość niezerową
tylko skończoną ilość razy.
\end{remark}

\begin{definition}
Dana jest krzywa eliptyczna $E$.
\emph{Dywizor na krzywej eliptycznej $E$}
to element abelowej grupy wolnej generowanej przez punkty krzywej $E$.
Grupę wszystkich dywizorów na krzywej $E$ oznaczamy $\Div(E)$.
\end{definition}

\begin{remark}
Zgodnie z poczynioną przed chwilą uwagą,
dywizory na krzywej eliptycznej $E$ będziemy zapisywać w postaci
\begin{equation*}
\sum_{P \in E} a(P)\divi{P}
\end{equation*}
mimo, że postać ta nie sugeruje,
że dywizor jest kombinacją skończonej liczby składników.
\end{remark}

\subsection*{Własności dywizorów}

Dla dywizorów określamy stopień oraz normę.

\begin{definition}
Dany jest dywizor $\Delta$ na krzywej eliptycznej $E$.
\emph{Stopień dywizora $\Delta$},
oznaczany $\deg(\Delta)$,
to suma współczynników
stojących przy punktach krzywej wchodzących w jego skład,
to znaczy, gdy dywizor $\Delta$ dany jest wzorem
\begin{equation*}
\Delta = \sum_{P \in E} a(P)\divi{P}
\end{equation*}
to jego stopień dany jest wzorem
\begin{equation*}
\deg(\Delta) = \sum_{P \in E} a(P)
\end{equation*}
\end{definition}

\begin{definition}
Dany jest dywizor $\Delta$ na krzywej eliptycznej $E$.
\emph{Norma dywizora $\Delta$},
oznaczana $\abs{\Delta}$,
to suma wartości bezwzględnych współczynników
stojących przy wszytkich punktach krzywej wchodzących w jego skład
z wyjątkiem punktu w nieskończoności,
to znaczy, gdy dywizor $\Delta$ dany jest wzorem
\begin{equation*}
\Delta = \sum_{P \in E} a(P)\divi{P}
\end{equation*}
to jego norma dana jest wzorem
\begin{equation*}
\abs{\Delta} = \sum_{P \in E \setminus \{\ecident\}} \abs{a(P)}
\end{equation*}
\end{definition}

\subsection*{Dywizory funkcji wymiernych}

Przydatność dywizorów polega na tym, że można za ich pomocą
zakodować informacje
o wszystkich miejscach zerowych i biegunach funkcji wymiernej
oraz ich krotnościach.

\begin{definition}
Dana jest funkcja wymierna $r$ nad krzywą eliptyczną $E$.
\emph{Dywizor funkcji $r$},
oznaczany $\rdiv(r)$,
to dywizor określony następującym wzorem:
\begin{equation*}
\rdiv(r) = \sum_{P \in E} \ord_P(r)\divi{P}
\end{equation*}
\end{definition}

\begin{definition}
Dywizor na krzywej eliptycznej jest \emph{główny},
jeśli jest on dywizorem pewnej funkcji wymiernej nad tą krzywą.
\end{definition}

Następująca ważna cecha dywizorów głównych
jest konsekwencją wniosku \ref{function_order_sum_zero_corollary}.

\begin{fact}
Dywizor główny ma stopień równy zero.
\end{fact}

Dywizor główny niemal jednoznacznie wyznacza funkcję wymierną.

\begin{fact}
Dwie funkcje wymierne różniące się o czynnik stały mają taki sam dywizor.
\end{fact}

\begin{theorem}
Dane są dwie funkcje wymierne nad krzywą eliptyczną $r$ oraz $s$ takie,
że $\rdiv(r) = \rdiv(s)$.
Wówczas iloraz $\frac{r}{s}$ jest stały.
\end{theorem}

\begin{corollary}
Funkcja wymierna nad krzywą eliptyczną nie ma miejsca zerowego ani bieguna,
wtedy i tylko wtedy, gdy jest stała i nie jest zerowa.
\end{corollary}

\begin{corollary}
Dywizor wyznacza funkcję wymierną z dokładnością do stałego czynnika.
\end{corollary}

Dywizory główne pozwalają zdefiniować ważną relację równoważności.

\begin{definition}
Dywizory $\Delta_1$ oraz $\Delta_2$ są \emph{równoważne},
co zapisujemy $\Delta_1 \sim \Delta_2$,
jeśli ich różnica $\Delta_1 - \Delta_2$ jest dywizorem głównym.
\end{definition}

\subsection*{Szczególne grupy dywizorów}

Dywizory główne spełniają zależność
podobną do tej, którą spełniają stopnie funkcji wymiernych.

\begin{theorem}\label{fun_mul_divi_add_theorem}
Dane są funkcje wymierne $r$ oraz $s$ nad krzywą eliptyczną.
Wówczas $\rdiv(rs) = \rdiv(r) + \rdiv(s)$.
\end{theorem}

\begin{corollary}
Zbiór dywizorów głównych nad krzywą eliptyczną tworzy grupę,
która jest podgrupą grupy $\Div(E)$.
\end{corollary}

\begin{definition}
\emph{Grupę dywizorów głównych} nad krzywą eliptyczną $E$
oznaczamy $\Prin(E)$.
\end{definition}

Pojęcie równoważności dywizorów prowadzi do definicji kolejnych grup.

\begin{definition}
Dana jest krzywa eliptyczna $E$.
\emph{Grupa Picarda krzywej $E$},
oznaczana $\Pic(E)$,
to grupa ilorazowa $\Div(E)/\Prin(E)$.
\end{definition}

Następujące twierdzenie obrazuje strukturę grupy Picarda.

\begin{theorem}\label{divisor_linear_reduction_theorem}
Dana jest krzywa eliptyczna $E$.
Dla każdego dywizora $\Delta \in \Div(E)$
istnieje dywizor $\tilde{\Delta} \in \Div(E)$ taki,
że $\Delta \sim \tilde{\Delta}$, $\deg(\Delta) = \deg(\tilde{\Delta})$
oraz $\tilde{\Delta} = \divi{P} + n\divi{\ecident}$.
\end{theorem}

Grupa Picarda daje pewną intuicję,
jak wyglądają dywizory główne nad krzywą eliptyczną,
ponieważ obrazuje zależność między grupą dywizorów głównych $\Prin(E)$,
a grupą $\Div(E)$, która jest abelową grupą wolną,
ma zatem dosyć prostą strukturę.
Warto porównać grupę $\Prin(E)$ z inną grupą,
która jest mniejsza od grupy $\Div(E)$,
lecz również ma prostą strukturę.

\begin{definition}
Dana jest krzywa eliptyczna $E$.
\emph{Grupa dywizorów stopnia zero na krzywej $E$},
oznaczana $\Div^0(E)$,
to podgrupa grupy $\Div(E)$ składająca się
z dywizorów o zerowym stopniu.
\end{definition}

\begin{definition}
Dana jest krzywa eliptyczna $E$.
\emph{Zerowa grupa Picarda krzywej $E$},
oznaczana $\Pic^0(E)$,
to grupa ilorazowa $\Div^0(E)/\Prin(E)$.
\end{definition}

Strukturę zerowej grupy Picarda obrazuje następujące twierdzenie,
bardzo podobne do twierdzenia \ref{divisor_linear_reduction_theorem}.

\begin{theorem}\label{zerodeg_divisor_linear_reduction_theorem}
Dana jest krzywa eliptyczna $E$.
Dla każdego dywizora $\Delta \in \Div^0(E)$
istnieje dokładnie jeden punkt krzywej $P \in E$ taki,
że $\Delta \sim \divi{P} - \divi{\ecident}$.
\end{theorem}

\begin{corollary}\label{piczero_curvepts_bijection_corollary}
Istnieje wzajemna jednoznaczność między punktami krzywej eliptycznej $E$,
a elementami jej zerowej grupy Picarda $\Pic^0(E)$.
\end{corollary}
