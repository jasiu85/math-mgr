\section{Dywizory}

\noindent
Rozmieszczenie miejsc zerowych i biegunów
funkcji wymiernych na krzywej eliptycznej
wykazuje wiele regularności.
Narzędziem, które pozwoli nam je badać, są dywizory.

\subsection*{Definicja}

\noindent
Przed podaniem definicji dywizora na krzywej eliptycznej przypomnijmy,
czym jest abelowa grupa wolna.

\begin{definition}
Dany jest zbiór $S$,
liczba naturalna $n$,
parami różne elementy $s_1, \ldots, s_n$ zbioru $S$
oraz liczby całkowite $a_1, \ldots, a_n$.
\emph{Skończona suma formalna nad zbiorem $S$ długości $n$
o składnikach $s_1, \ldots s_n$ i współczynnikach $a_1, \ldots, a_n$}
to następujące wyrażenie:
\begin{equation*}
\sum_{k=1}^n a_k\divi{s_k}
\end{equation*}

\noindent
\emph{Abelowa grupa wolna generowana przez zbiór $S$}
to zbiór złożony ze wszystkich skończonych sum formalnych nad zbiorem $S$
wyposażony w działanie polegające na formalnym dodaniu dwóch sum
i pogrupowaniu składników ze względu na elementy zbioru $S$.
\end{definition}

\begin{remark}\label{formal_sum_notation_remark}
Sumę formalną nad zbiorem $S$ będziemy często zapisywać
w następującej postaci:
\begin{equation*}
\sum_{s \in S}a(s)\divi{s}
\end{equation*}
Choć zapis tego nie sugeruje,
funkcja $a \colon S \to \Z$ przyjmuje wartość niezerową
tylko skończoną ilość razy.
\end{remark}

\begin{definition}
Dana jest krzywa eliptyczna $E$.
\emph{Dywizor na krzywej eliptycznej $E$}
to element abelowej grupy wolnej generowanej przez punkty krzywej $E$.
Zbiór wszystkich dywizorów na krzywej $E$ oznaczamy symbolem $\Div(E)$.
\end{definition}

\begin{remark}
Zgodnie z poczynioną przed chwilą uwagą \ref{formal_sum_notation_remark}
dywizory na krzywej eliptycznej $E$ będziemy często zapisywać
w następującej postaci:
\begin{equation*}
\sum_{P \in E} a(P)\divi{P}
\end{equation*}
\end{remark}

\noindent
Dla dywizorów określamy stopień oraz normę.

\begin{definition}
Dany jest dywizor $\Delta$ na krzywej eliptycznej $E$
postaci $\Delta = \sum_{P \in E} a(P)\divi{P}$.
\emph{Stopień dywizora $\Delta$},
oznaczany symbolem $\deg(\Delta)$,
to następująca wielkość:
\begin{equation*}
\deg(\Delta) = \sum_{P \in E} a(P)
\end{equation*}
\end{definition}

\begin{definition}
Dany jest dywizor $\Delta$ na krzywej eliptycznej $E$
postaci $\Delta = \sum_{P \in E} a(P)\divi{P}$.
\emph{Norma dywizora $\Delta$},
oznaczana symbolem $\abs{\Delta}$,
to następująca wielkość:
\begin{equation*}
\abs{\Delta} = \sum_{P \in E \setminus \{\ecident\}} \abs{a(P)}
\end{equation*}
\end{definition}

\begin{example}
Dana jest krzywa eliptyczna $E_{3, 4}(\F(13))$.
Dywizor $3\divi{(0, 2)} - 2\divi{(12, 0)}$ na tej krzywej
ma stopień równy $1$ i normę równą $5$.
\end{example}

\subsection*{Dywizory i funkcje wymierne}

\noindent
Przydatność dywizorów polega na tym, że można za ich pomocą
reprezentować informacje
o wszystkich miejscach zerowych i biegunach funkcji wymiernej
oraz ich krotnościach.

\begin{definition}
Dana jest funkcja wymierna $r$ na krzywej eliptycznej $E$.
\emph{Dywizor funkcji $r$},
oznaczany symbolem $\rdiv(r)$,
to dywizor na krzywej $E$ określony następująco:
\begin{equation*}
\rdiv(r) = \sum_{P \in E} \ord_P(r)\divi{P}
\end{equation*}
\end{definition}

\begin{example}
Dana jest krzywa eliptyczna $E_{3, 4}(\F(13^2))$.
Funkcja wymierna $\frac{x^3}{y^2}$ na tej krzywej
ma dywizor równy
$3\divi{(0, 2)}
+ 3\divi{(0, 11)}
- 2\divi{(12, 0)}
- 2\divi{(\alpha, 0)}
- 2\divi{(\beta, 0)}$,
gdzie $\alpha$ i $\beta$ to pierwiastki wielomianu $x^2 - x + 4$
w ciele $\F(13^2)$.
\end{example}

\noindent
Okazuje się, że dywizor niosący informacje o miejscach zerowych i biegunach
funkcji wymiernej wyznacza ją niemalże jednoznacznie.

\begin{fact}
Dwie funkcje wymierne na krzywej eliptycznej
różniące się o czynnik stały mają taki sam dywizor.
\end{fact}

\begin{theorem}
Dane są funkcje wymierne $r$ i $s$ na krzywej eliptycznej $E$.
Zależność $\rdiv(r) = \rdiv(s)$ zachodzi wtedy i tylko wtedy,
gdy iloraz $\frac{r}{s}$ jest stały i niezerowy.
\end{theorem}

\begin{corollary}\label{zero_div_const_fun_coro}
Funkcja wymierna na krzywej eliptycznej
nie ma miejsca zerowego ani bieguna wtedy i tylko wtedy,
gdy jest stała i niezerowa.
\end{corollary}

\begin{corollary}\label{fun_divi_equiv_to_const_lemma}
Dywizor na krzywej eliptycznej
wyznacza funkcję wymierną z dokładnością do stałego niezerowego czynnika.
\end{corollary}
